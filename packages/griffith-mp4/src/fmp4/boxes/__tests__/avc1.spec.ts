import avc1 from '../avc1'

describe('avc1 box', () => {
  // prettier-ignore
  const data = {
    width: 640,
    height: 360,
    SPS: [39,66,224,30,169,24,20,5,255,46,0,212,24,4,26,219,10,215,189,240,16],
    PPS: [40,222,9,200],
  }

  it('should be same', () => {
    // prettier-ignore
    expect(avc1(data)).toEqual(new Uint8Array([
      0x00, 0x00, 0x00, 0x82,
      0x61, 0x76, 0x63, 0x31,
      0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x01,
      0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00,
      0x02, 0x80, 0x01, 0x68,
      0x00, 0x48, 0x00, 0x00,
      0x00, 0x48, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00,
      0x00, 0x01,
      0x0B,
      0x57, 0x41, 0x4E, 0x47,
      0x4C, 0x75, 0x76,
      0X44, 0x41, 0x4E, 0x47,
      0x00, 0x00,
      0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x18,
      0xff, 0xff, 0x00, 0x00,
      0x00, 0x2C, 0x61, 0x76,
      0x63, 0x43, 0x01, 0x42,
      0xE0, 0x1E, 0xFF, 0xE1,
      0x00, 0x15, 0x27, 0x42,
      0xE0, 0x1E, 0xA9, 0x18,
      0x14, 0x05, 0xFF, 0x2E,
      0x00, 0xD4, 0x18, 0x04,
      0x1A, 0xDB, 0x0A, 0xD7,
      0xBD, 0xF0, 0x10, 0x01,
      0x00, 0x04, 0x28, 0xDE,
      0x09, 0xC8,
    ]))
  })
})
